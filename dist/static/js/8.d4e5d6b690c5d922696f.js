webpackJsonp([8],{BXPd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("3cXf"),i=a.n(o),l=a("/AKN");var n={name:"catalogList",data:function(){return{trueFlag:!0,loading:!0,q:{order:"desc",keyword:"",pageIndex:0,pageSize:10},totalElements:0,totalPages:0,catalogList:[],dialogTableVisible:!1,dialogFormVisible:!1,entity:{id:"",catalogName:""}}},created:function(){this.catalogPage()},methods:{log:function(t){this.$message({showClose:!0,message:t,type:"success"})},catalogPage:function(t){var e,a=this;this.loading=!0,this.q.keyword=t||this.q.keyword,(e=this.q,Object(l.a)({url:"/admin/catalog/page",method:"get",params:e})).then(function(t){a.catalogList=t.data.content,a.totalElements=t.data.totalElements,a.totalPages=t.data.totalPages,a.loading=!1})},saveCatalog:function(){var t,e=this;(this.dialogFormVisible=!1,this.entity.catalogName)?this.entity.id?(t=this.entity,Object(l.a)({url:"/admin/catalog",method:"put",data:t})).then(function(t){"200"==t.code&&e.$message({showClose:!0,message:"修改成功!",type:"success"}),e.catalogPage()}):function(t){return Object(l.a)({url:"/admin/catalog",method:"post",data:t})}(this.entity).then(function(t){"200"==t.code&&e.$message({showClose:!0,message:"新增成功!",type:"success"}),e.catalogPage()}):this.$message({showClose:!0,message:"名称不可以为空",type:"warning"})},search:function(){this.$message({showClose:!0,message:"就那么几个, 没必要搜索了!",type:"warning"}),this.catalogPage()},handleAdd:function(){this.dialogFormVisible=!0,this.entity={id:"",catalogName:""}},handleEdit:function(t,e){this.dialogFormVisible=!0,this.entity=JSON.parse(i()(e))},handleDelete:function(t,e){var a=this;this.$confirm("此操作不可逆，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t;(t=e.id,Object(l.a)({url:"/admin/catalog/"+t,method:"delete"})).then(function(t){200===t.code&&a.$message({showClose:!0,message:"删除成功",type:"success"}),a.catalogPage()})})},handleSizeChange:function(t){this.q.pageSize=t,this.catalogPage()},handleCurrentChange:function(t){this.q.pageIndex=t-1,this.catalogPage()}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{inline:!0,model:t.q}},[a("el-form-item",{attrs:{label:"搜索"}},[a("el-input",{attrs:{placeholder:"名称",clearable:""},on:{change:t.search},model:{value:t.q.keyword,callback:function(e){t.$set(t.q,"keyword",e)},expression:"q.keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handleAdd}},[t._v("添加")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.catalogList,"show-header":"",border:"",fit:!t.trueFlag}},[a("el-table-column",{attrs:{prop:"id",label:"ID","show-overflow-tooltip":t.trueFlag,width:"350"}}),t._v(" "),a("el-table-column",{attrs:{prop:"catalogName",label:"名称","show-overflow-tooltip":t.trueFlag,width:"500"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"创建人","show-overflow-tooltip":t.trueFlag,width:"550"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-top":"10px"}},[a("el-pagination",{attrs:{"page-size":t.q.pageSize,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next",total:t.totalElements},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑分类",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.entity}},[a("el-form-item",{attrs:{label:"分类名称","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.entity.catalogName,callback:function(e){t.$set(t.entity,"catalogName",e)},expression:"entity.catalogName"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCatalog}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=a("C7Lr")(n,s,!1,function(t){a("hAXV")},null,null);e.default=r.exports},hAXV:function(t,e){}});
//# sourceMappingURL=8.d4e5d6b690c5d922696f.js.map